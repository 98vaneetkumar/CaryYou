<div class="main-content">
  <section class="section">
    <div class="section-header">
      <h1>Order Details</h1>
      <div class="section-header-breadcrumb">
        <div class="breadcrumb-item active">
          <a href="/admin/dashboard">Dashboard</a>
        </div>
        <div class="breadcrumb-item">
          <a href="/admin/order_list">Orders</a>
        </div>
        <div class="breadcrumb-item">Order Details</div>
      </div>
    </div>
    <div class="section-body">
      <div class="card">
        <form action="" method="get" enctype="multipart/form-data">
          <!-- Back Button -->
          <div class="form-group text-left ml-3 mt-2">
            <a href="/admin/order_list" class="btn btn-info">
              <i class="fas fa-arrow-left"></i> Back
            </a>
          </div>
          <div class="row mt-sm-4 justify-content-center">
            <!-- Left Side - Order Info -->
              <div class="card-body">
                <h4 class="text-center">Order Info</h4>
                <div class="form-group">
                  <label class="col-form-label">Order By</label>
                  <input type="text" value="<%= order.orderBy %>" class="form-control" disabled>
                </div>
                <div class="form-group">
                  <label class="col-form-label">Restaurant</label>
                  <input type="text" value="<%= order.restaurant %>" class="form-control" disabled>
                </div>
                <div class="form-group">
                  <label class="col-form-label">Item</label>
                  <input type="text" value="<%= order.item %>" class="form-control" disabled>
                </div>
                <div class="form-group">
                  <label class="col-form-label">Price</label>
                  <input type="text" value="<%= order.price %>" class="form-control" disabled>
                </div>
                <div class="form-group">
                  <label class="col-form-label">Status</label>
                  <input type="text" value="<%= order.status %>" class="form-control" disabled>
                </div>
              </div>
            </div>

            <!-- Right Side - Rider & Delivery Details -->
            <div class="col-12 col-md-12 col-lg-7">
              <div class="card-body">
                <h4 class="text-center">Delivery Details</h4>
                <% if (order.status !== 'Pending') { %>
                  <!-- Rider Info -->
                  <div class="form-group">
                    <label class="col-form-label">Rider</label>
                    <input type="text" value="<%= order.rider %>" class="form-control" disabled>
                  </div>
                  <div class="form-group">
                    <label class="col-form-label">Rider Tip</label>
                    <input type="text" value="<%= order.riderTip %>" class="form-control" disabled>
                  </div>
                  <!-- Pickup Details -->
                  <div class="form-group">
                    <label class="col-form-label">Pickup Date & Time</label>
                    <input type="text" value="<%= order.orderPickUpDate %> <%= order.orderPickUpTime %>" class="form-control" disabled>
                  </div>
                  <!-- Delivery Details -->
                  <div class="form-group">
                    <label class="col-form-label">Delivered Date & Time</label>
                    <input type="text" value="<%= order.orderDeliveredDate %> <%= order.orderDeliveredTime %>" class="form-control" disabled>
                  </div>
                <% } else { %>
                  <p class="text-center">Delivery details will be available once the rider is assigned and updates are provided.</p>
                <% } %>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</div>

<script>
  function formatDateTime(date, time) {
    if (!date || !time) return null;
    return `${new Date(date).toLocaleDateString()} ${new Date(time).toLocaleTimeString()}`;
  }
</script>

<style>
  .profile_img {
    object-fit: cover;
  }

  .form-group {
    margin-bottom: 15px;
  }
</style>
